'use strict';
const compression = require('compression');
const helmet = require('helmet');
const express = require('express');
const cors = require('cors');
// *************************************************************************************************************
// init express
// *************************************************************************************************************

const app = express();

// *************************************************************************************************************
// security && compression
// *************************************************************************************************************

app.use(helmet());
app.disable('x-powered-by');
app.use(compression());

// *************************************************************************************************************
// define view-engine & static resources
// *************************************************************************************************************

app.use(express.static('public'));
app.all("/*", function(req, res, next) {
  res.sendFile("index.html", { root: "public" });
});

app.use(cors());

// *************************************************************************************************************
// run the  server
// *************************************************************************************************************

app.listen(4200);


