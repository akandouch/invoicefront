<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <button class="navbar-toggler pb-2" type="button" (click)="toggleNavbar()">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div [ngClass]="toggleNavbarShow()" id="navbarTogglerDemo01">
    <a class="navbar-brand" routerLink="/"
       [ngStyle]="{'color': currentMenu && currentMenu.route === '/' && currentMenu.selected ? currentMenu.color:''}">
      <img width="16" height="16" class="d-inline" src="favicon.ico">
      <i class="d-inline">{{'main.title' | translate}}</i>
    </a>
    <ul class="navbar-nav mr-auto pt-1">
      <li class="nav-item" *ngFor="let m of menu" (click)="click(m);m.selected=true;">
        <a routerLink="{{m.route}}" *ngIf="hasRole(m.role)" class="nav-link text-white">
          <fa-icon [icon]="m.icon" [ngStyle]="{color: m.color}" width="50px"></fa-icon>
          <span [ngStyle]="{'color': m.selected ? m.color:''}">&nbsp;{{m.label | translate}}</span>
        </a>

      </li>
      <li class="dropdown nav-item" dropdown>
        <div ngbDropdown class="d-inline-block">
          <a class="nav-link text-white " href="#" (click)="$event.preventDefault()" id="dropLang" ngbDropdownToggle>
            <fa-icon [icon]="faLanguage" width="50px"></fa-icon>&nbsp;{{'common.language'| translate}}</a>
          <div ngbDropdownMenu aria-labelledby="dropLang">
            <button class="dropdown-item" (click)="useLanguage('fr')">
              <span class="flag-icon flag-icon-fr "></span>&nbsp;FR
            </button>
            <button class="dropdown-item" (click)="useLanguage('nl')">
              <span class="flag-icon flag-icon-nl"></span>&nbsp;NL
            </button>
            <button class="dropdown-item" (click)="useLanguage('en')">
              <span class="flag-icon flag-icon-gb"></span>&nbsp;EN
            </button>
          </div>
        </div>
      </li>
      <!--
      <hr class="recent-hr"/>
      <ul class="recent">
        recent
        <li><fa-icon [icon]="faFileInvoice"></fa-icon> TODO</li>
        <li><fa-icon [icon]="faFileInvoice"></fa-icon> TODO</li>
      </ul>-->
    </ul>
    <div *ngIf="!isLoggedIn()" class="form-inline my-2 my-lg-0">
      <input [(ngModel)]="username" name="username" class="form-control mr-sm-2" type="text"
             [placeholder]="'common.username' | translate" aria-label="Username">
      <input (keydown.enter)="login()" [(ngModel)]="password" name="password" class="form-control mr-sm-2"
             type="password" [placeholder]="'common.password' | translate"
             aria-label="Password">
      <button class="btn btn-outline-info text-white my-2 my-sm-0" type="button" (click)="login()">{{'common.signin' |
        translate}}
      </button>
    </div>
    <div *ngIf="isLoggedIn()" class="form-inline my-2 my-lg-0">
      <span class="text-white">{{'common.greeting' | translate}} {{getUser().username}}</span>&nbsp;
      <button class="btn btn-outline-danger text-white my-2 my-sm-0" type="button" (click)="logout()">{{'common.logout'
        | translate}}
      </button>
    </div>
  </div>
</nav>
<div>
  <div class="container-fluid routerContent">
    <div *ngIf="currentMenu" class="col-lg-12">
      <fa-icon [icon]="currentMenu.icon" class="header-icon"
               [ngStyle]="{'border-color': currentMenu.color, 'color': currentMenu.color}"></fa-icon>
      <h5>
        {{currentMenu.label | translate}}
      </h5>
    </div>
    <router-outlet></router-outlet>
  </div>
</div>
<!-- Footer -->
<footer *ngIf="gdprShow()" class="footer bg-dark p-2">
  <div class="container ">
    <p class="text-white lead text-uppercase">{{'main.gdpr'|translate}}</p>
    <button class="btn btn-success text-uppercase text-white" (click)="gdprAccepted()">
      {{'common.action.accept'|translate}}
    </button>&nbsp;
    <a href="https://google.fr" class="btn btn-danger text-white">{{'common.action.refuse'|translate}}</a>
  </div>
</footer>
<!-- Footer -->
